# API

import { SourceCode } from 'rspress/theme'

## subscribe

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L107' />

Subscribe the key's keyboard event.

- Params
  - `key` **string** The key to subscribe to;
  - `handler` **function** The callback function to be called when the key is pressed;
  - `options` **undefined | string | object** The options of the key event. If it is a string, it will be converted to an object, and the `scope` property will be set to the string value. If it is an object, the `scope` property will be set to the value of the `scope` property;
    - `options.scope` **string** The scope of the key event. If the scope is not set, the default is `default`;
    - `options.splitValue` **boolean** Whether to split the value of the key event. If it is not set, the default is `false`;
    - `options.keydown` **boolean** Whether to subscribe to the keydown event. If it is not set, the default is `true`;
    - `options.keyup` **boolean** Whether to subscribe to the keyup event. If it is not set, the default is `false`;
    - `options.once` **boolean** Whether to subscribe to the key event only once. If it is not set, the default is `false`;

:::info
The `subscribe` interface returns a function that can be called to cancel the current event listener.
:::

```javascript
import { subscribe } from "toukey";

const unsubscribe = subscribe("scope", () => {
  console.log("scope");
});

unsubscribe();
```

## on

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L251' />

`on` is an alias for `subscribe`.

:::info
Why is there an alias? Because `on` and `off` is more in line with the semantics of the event.
:::

## off

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L262' />

`off` could cancel the event listener.

- Params
  - `key` **string** The key to cancel the event listener;
  - `handler` **undefined | function** The callback function to cancel the event listener;
  - `options` **undefined | object**
    - `options.scope` **string** The scope of the key event. If the scope is not set, the default is `default`;
    - `options.splitValue` **boolean** Whether to split the value of the key event. If it is not set, the default is `false`;
    - `options.keydown` **boolean** Whether to subscribe to the keydown event. If it is not set, the default is `true`;
    - `options.keyup` **boolean** Whether to subscribe to the keyup event. If it is not set, the default is `false`;

:::info
If the `handler` and `options` is not set, all event listeners of the key will be canceled.
:::

## getScope

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L187' />

Get the scope of the current keyboard event.

```javascript
import { getScope } from "toukey";

const scope = getScope();
```

## setScope

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L195' />

Set the scope of the current keyboard event.

- Params
  - `scope` **string** The scope of the key event.

```javascript
import { setScope } from "toukey";

setScope("scope");
```

## deleteScope

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L206' />

Delete the scope of the current keyboard event.

- Params
  - `scope` **string** The scope of the key event.

```javascript
import { deleteScope } from "toukey";

deleteScope("scope");
```

## enable

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L226' />

Enable the key event.

```javascript
import { enable } from "toukey";

enable();
```

## disable

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L233' />

Disable the key event.

```javascript
import { disable } from "toukey";

disable();
```

## isEnable

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L240' />

Get the status of the key event.

```javascript
import { isEnable } from "toukey";

const status = isEnable();
```

## clearAll

<SourceCode href='https://github.com/Yukiniro/toukey/blob/master/src/index.ts#L216' />

Clear all key events.

```javascript
import { clearAll } from "toukey";

clearAll();
```
